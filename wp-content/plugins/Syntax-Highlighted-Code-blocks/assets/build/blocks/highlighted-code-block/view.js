(()=>{"use strict";const t=window.wp.i18n;document.addEventListener("click",e=>{const o=e.target.closest(".dm-hcb-copy");if(!o)return;const n=o.querySelector("span");if(!n)return;const c=n.textContent,d=o.dataset.code;var a;d&&"true"!==o.dataset.copying&&(o.dataset.copying="true",(a=d,navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(a):new Promise((t,e)=>{const o=document.createElement("textarea");o.value=a,o.style.position="fixed",o.style.top="-1000px",document.body.appendChild(o),o.focus(),o.select();try{const n=document.execCommand("copy");document.body.removeChild(o),n?t():e()}catch(t){document.body.removeChild(o),e(t)}})).then(()=>{n.textContent=(0,t.__)("Copied","dm-hcb")}).catch(()=>{n.textContent=(0,t.__)("Copy failed","dm-hcb")}).finally(()=>{setTimeout(()=>{n.textContent=c,delete o.dataset.copying},2e3)}))})})();